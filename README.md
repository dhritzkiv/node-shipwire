node-shipwire
=============

Node.js library to communicate with the Shipwire API

##Features

###Current

- Order Tracking and Status
- Inventory
â€“ Conversion of XML responses to JSON (using [xml2js](https://github.com/Leonidas-from-XIV/node-xml2js))

###Upcoming

- Rate Quotes
- Fulfillment Services


##Install

`npm install --save node-shipwire`

##Usage

	var Shipwire = require('node-shipwire');
	var shipwire = new Shipwire(USERNAME, PASSWORD);

	shipwire.trackAll(function(err, orders) {
		//array of orders;
	})

##Methods

###Shipwire

	new Shipwire(username, password, options)

Sets your credentials and connection settings, and returns a `node-shipwire` object to use for your requests.

**Username** - String *(required)*.
Your Shipwire account username, typically an email.

**Password** - String *(required)*.
Your Shipwire account password.

**Options** - Object *(optional)*

- `sandbox` - Boolean. Whether to use the sandboxed environment, or production environment. Default: `false`
- `test` - Boolean. Whether to use Shipwire's Test server (which returns properly formatted sample responses), or the Production server, which returns responses based on the data in your account. Default `false`

###Track

####trackAll

	shipwire.trackAll(options, callback)

**Options** - Object *(optional)*

- `raw` - Boolean. Whether to return the raw XML response. Otherwise returns JSON. Default: `false`
- `bookmark` - Number. `1` returns all orders, `2` returns orders since last request, `3` return all orders since last request, and resets the bookmark to the current state. Default: `1`

**Callback** - Function *(required)*

- err - Object. Returns error object if applicable, otherwise null.
- orders - Array. Returns an array of orders.


####trackByOrderNumber

	shipwire.trackByOrderNumber(orderNumber, options, callback)

**orderNumber** - String *(required)*

The order number to use. This is generally an id submitted along with an order to Shipwire.

**Options** - Object *(optional)*

- `raw` - Boolean. Whether to return the raw XML response. Otherwise returns JSON. Default: `false`

**Callback** - Function *(required)*

- err - Object. Returns error object if applicable, otherwise null.
- orders - Object. Returns an order object.


####trackById

	shipwire.trackById(id, options, callback)

**id** - String *(required)*

The Shipwire ID to use. This is an id generated by Shipwire.

**Options** - Object *(optional)*

- `raw` - Boolean. Whether to return the raw XML response. Otherwise returns JSON. Default: `false`

**Callback** - Function *(required)*

- err - Object. Returns error object if applicable, otherwise null.
- orders - Object. Returns an order object.


###Inventory

####inventoryStatus

	shipwire.inventoryStatus(options, callback)

**Options** - Object *(optional)*

- `warehouse` - String. Which warehouse should be search, otherwise all are searched. Valid options are `"TOR"`, `"CHI"`, `"LAX"`, `"PHL"`, `"VAN"`, `"UK"`, `"HKG"`
- `warehouseCountry` - String. Which set of warehouses should be searched. Valid options are `"CA"`, `"US"`, `"GB"`, `"HK"`
- `productCodes` - Array or String. Can be an array of product SKUs to search. Can also be a single SKU as a string.
- `includeEmpty` - Boolean. If true, all products, even which have never had inventory, will be returned. Default: `false`
- `raw` - Boolean. Whether to return the raw XML response. Otherwise returns JSON. Default: `false`

**Callback** - Function *(required)*

- err - Object. Returns error object if applicable, otherwise null.
- products - Array. Returns an array of products.

##Tests

Run `npm test` to run the tests.
Tests will also run automatically before `git commit`

##Contributing

Currently, the library isn't very feature rich or mature. If you'd like to offer improvements:

1. Fork it
2. Create your feature branch `git checkout -b feature-name`
3. Commit your changes `git commit -am 'Add feature'` \*
4. Push the branch `git push origin feature-name`
5. Create a pull request

\* Prior to a commit, linting and testing will be performed automatically using [precommit-hook](https://github.com/nlf/precommit-hook)


##Contact

Have a question? I'm on twitter: [@dhritzkiv](https://twitter.com/dhritzkiv)